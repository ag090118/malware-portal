import React,{useEffect} from "react";
import Header from "./Header";
import Header2 from "./Header2";
import Main from "./Main";
import News from "./News";
import "../styles.css";
import { useSelector } from "react-redux";
import { useCookies } from 'react-cookie';
import { useNavigate } from "react-router-dom";

function Home() {
  const name = useSelector((state) => state.checkUserLogin.userName);
  //console.log(name);
  const [cookies, setCookie] = useCookies();
  const navigate= useNavigate();
const checkRender = async () =>{
  if(!cookies.jwtoken){
    navigate("/login");
  }
};
useEffect(()=>{
  checkRender();
},[]);
  return (
    <div className="App">
      <div className="header">
        <Header />
      </div>
      <h1>{cookies.username}</h1>
      <div className="center">
        <div className="main">
          <Main />
        </div>
        <div className="side">
          <News />
        </div>
      </div>
    </div>
  );
}
export default Home;
