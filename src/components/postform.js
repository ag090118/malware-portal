import React, { useState } from "react";
import Button from "@mui/material/Button";
import { IoCloseSharp } from "react-icons/io5";
import ReactQuill from "react-quill";
import "react-quill/dist/quill.snow.css";
import TextField from "@mui/material/TextField";
import parse from "html-react-parser";

function Postform(props) {
  const [convertedText, setConvertedText] = useState("");
  return (
    <div className="Postform-main">
      <div className="close-postform">
        <Button
          variant="contained"
          onClick={props.handlePostButton}
          sx={{
            margin: "1%",
          }}
        >
          <IoCloseSharp />
        </Button>
      </div>
      <ReactQuill
        modules={{
          toolbar: [
            [{ header: "1" }, { header: "2" }, { font: [] }],
            [{ size: [] }],
            ["bold", "italic", "underline", "strike", "blockquote"],
            [
              { list: "ordered" },
              { list: "bullet" },
              { indent: "-1" },
              { indent: "+1" },
            ],
            ["link", "image", "video"],
            ["clean"],
          ],
          clipboard: {
            matchVisual: false,
          },
        }}
        theme="snow"
        value={convertedText}
        onChange={setConvertedText}
        style={{ minHeight: "60px" }}
      />

      <Data convertedText={convertedText} />

      {/* <Editor placeholder={"Write something..."} /> */}
      {/* <TextField
        variant="filled"
        multiline="true"
        value={convertedText}
        fullWidth="true"
        placeholder="comment"
      /> */}
    </div>
  );
}

const options = {
  replace: (domNode) => {
    if (domNode.attribs && domNode.attribs.class === "remove") {
      return <></>;
    }
  },
};

function Data(props) {
  return parse(props.convertedText, options);
}
export default Postform;
